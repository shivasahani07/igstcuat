<apex:page sidebar="false" showHeader="false" standardStylesheets="false"  docType="html-5.0" controller="ApplicantPortal_Contoller">
    <head>
        <c:Libraries /> 
        <script> 
                        var tabValues = JSON.parse('{!tabValues}');
                        var candidateId = '{!candidateId}';
                        var campaigntype = '{!campaigntype}';
                        var countrytype = JSON.parse('{!countrytype}');
                        var countryCode = JSON.parse('{!countryCode}');
                        var availingFellowship = JSON.parse('{!availingFellowship}');
                        var pairedApplicant = JSON.parse('{!pairedApplicant}');
                        var participantType = JSON.parse('{!participantType}');
                        var bankType = JSON.parse('{!bankType}');
                        var participatingWorkshop = JSON.parse('{!participatingWorkshop}');
                        var specialization = JSON.parse('{!specialization}');
                        var presentingWorkshop = JSON.parse('{!presentingWorkshop}');
                        var currencyType2 = JSON.parse('{!currencyType2}');
                        var siteURL = '{!ApplicantPortalSiteURL}';
                        var financialConDetails = JSON.parse('{!financialConDetails}');
                        var thematicAreaList = JSON.parse('{!thematicAreaList}');
                        var domainURL = '{!$Label.ApplicantPortalSiteURL}';
                        var contactId = '{!contactId}';
                        var secondstage = '{!secondstage}';
                        var emailVerified = '{!emailVerified}'; 
                        var isCoordinator='{!isCoordinator}';
                        var proposalStage = '{!proposalStage}';          
                        var gender = JSON.parse('{!gender}');
                        var applicantName = '{!applicantName}';
                        var applicantEmail = '{!applicantEmail}';
                        var country = JSON.parse('{!country}');
                        var nationality = JSON.parse('{!nationality}');
                        var available_followship = '{!available_followship}';
                        var associated_with_igstc = '{!associated_with_igstc}';
                        var isPrimaryContact='{!isPrimaryContact}';
                        var accountId='{!accountId}';
                        var natureOfThesisWork=JSON.parse('{!natureOfThesisWork}');
                        var natureOfPhDWork=JSON.parse('{!natureOfPhDWork}');
                        var percentCGPA=JSON.parse('{!percentCGPA}');
                        var states=JSON.parse('{!states}');
                        var campaignData='{!campaignData}';
                        var signDate='{!signDate}';
                        var currencyPickList=JSON.parse('{!currencyPickList}');
                        var partnerSubmission = '{!partnerSubmission}';
                        var proposalWrapperList = '{!proposalWrapperList}';

                        var yearList = JSON.parse('{!yearList}');//Added for Dropodown by Karthik

                        debugger;

                        var candidateId = '{!contactId}';
                        var candidateId = '{!$CurrentPage.parameters.id}';
            </script>
        <apex:stylesheet value="{!$Resource.ApplicantPortalCSS}" />
        <apex:stylesheet value="{!$Resource.ReviewerPortalCss}" />
        <apex:stylesheet value="{!$Resource.SlickThemeCSS}" />
        <apex:stylesheet value="{!$Resource.SlickCss}" />
    
        <apex:stylesheet value="{!$Resource.SmallCss}" />
        <apex:stylesheet value="{!$Resource.MediumCss}" />
        <apex:stylesheet value="{!$Resource.LargCss}" />
        <!--script src="{!$Resource.AngularMultiSelectDirective}" /-->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular-route.min.js"></script>
        <script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.7.0/lodash.min.js">
        </script>
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css"/>
        <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular-sanitize.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/textAngular/1.1.2/textAngular.min.js'></script>
        <script src="{!$Resource.datetimepicker}"></script>


        <c:Controllers />
        <!-- Load ApplicantPortal.js after Angular is loaded via Controllers component -->
        <apex:includeScript value="{!$Resource.ApplicantPortal}" />
        <style> 
<link
  href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&amp;family=Work+Sans:ital,wght@0,100..900;1,100..900&amp;display=swap"
  rel="stylesheet"
/>

        
        
/* body {
    background: #F5F5F5;
} */
 /* .card-img-left { */
    /*width: 45%;*/
    /* Link to your background image using in the property below! */
    /* background: scroll center url('https://source.unsplash.com/WEQbe2jBg40/414x512');
    background-size: 'cover'; */
/* } */
/*
.btn-login {
    font-size: 0.9rem;
    letter-spacing: 0.05rem;
    padding: 0.75rem 1rem;
}

.btn-google {
    color: white !important;
    background-color: #ea4335;
}

.btn-facebook {
    color: white !important;
    background-color: #3b5998;
}

.loadingBackground {
    position: fixed;
    height: 100%;
    width: 100%;
    background: #F6F6F6;
    z-index: 11111;
    opacity: 0.7;
    top: 0px;
    left: 0;
    bottom: 0;
    right: 0;
}
.loading {
    top: 50%;
    left: 50%;
    margin: -50px 0px 0px -50px;
    z-index: 111111;
    position: fixed;
}
.i-padding{
            padding-right: 10px;
        }
@media only screen and (min-width:850px) and (max-width:1000px){
    .padding_1000{
        padding-left:20px !important;
        padding-right:20px !important;
    }
}
@media only screen and (max-width: 750px) {
    @media screen and (min-device-width: 650px) and (max-device-width: 750px) { 
        .col{
            padding:unset;
        }
    }
    .col{
        flex-shrink: 0 !important;
        flex: unset;
        
    }
}
        </style>
        <c:Controllers />
        <style> 
            @media (min-width: 576px) {
        .h-sm-100 {
            height: 100%;
        }
        } */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            /* font-family: 'Segoe UI', sans-serif; */
            font-family: "Nunito Sans", sans-serif;
            background-color: #f6f6fb;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar-appPortal {
            width: 240px;
            background-color: #fff;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            padding-top: 0;
            margin-top: 70px;
            height: calc(100vh - 70px);
            position: fixed;
            left: 0;
            overflow-y: auto;
        }

        .sidebar-appPortal .logo {
            display: none;
        }
        .sidebar-appPortal .igstc-logo {
            padding: 15px 20px;
            text-align: center;
            margin-bottom: 30px;
        }
        .sidebar-appPortal .igstc-logo img {
            width: 100%;
            max-width: 180px;
            height: auto;
            object-fit: contain;
        }

        .nav-item {
            padding: 15px 25px;
            font-size: 15px;
            color: #444;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: background-color 0.3s;
        }

        .nav-item i {
            margin-right: 12px;
            font-size: 16px;
        }

        .nav-item:hover, .nav-item.active {
            background-color: #4b0082;
            color: #fff;
        }

        .bottom-nav {
            margin-top: auto;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 30px;
            padding-top: 10px;
            overflow-y: auto;
            scrollbar-width: none;
            background-color: #F9F9FB;
            margin-left: 240px;
            margin-top: 70px;
            min-height: calc(100vh - 70px);
        }

        .header {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-bottom: 20px;
        }

        .header span {
            font-weight: 500;
            color: #333;
        }

        /* Top Bar - Full Width Header */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background-color: #fff;
            padding: 15px 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .top-bar-left {
            display: flex;
            align-items: center;
        }

        .top-bar-logo {
            display: flex;
            align-items: center;
            height: 100%;
        }

        .top-bar-logo img {
            max-height: 50px;
            height: auto;
            width: auto;
            object-fit: contain;
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-name {
            font-weight: 500;
            color: #333;
            font-size: 15px;
            white-space: nowrap;
        }

        .user-profile-dropdown {
            position: relative;
        }

        .user-profile-trigger {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 4px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }

        .user-profile-trigger:hover {
            background-color: #f5f5f5;
        }

        .avatar-wrapper {
            position: relative;
            display: inline-block;
        }

        .user-avatar,
        .user-avatar-placeholder {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
        }

        .user-avatar-placeholder {
            background-color: #ff9800;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .user-status-indicator {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            background-color: #4caf50;
            border: 2px solid white;
            border-radius: 50%;
        }

        .dropdown-arrow {
            color: #666;
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        .dropdown-arrow.rotated {
            transform: rotate(180deg);
        }

        .user-dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 280px;
            padding: 16px 0;
            z-index: 1001;
        }

        .dropdown-user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 16px 16px 16px;
        }

        .dropdown-avatar-wrapper {
            position: relative;
            flex-shrink: 0;
        }

        .dropdown-avatar,
        .dropdown-avatar-placeholder {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
        }

        .dropdown-avatar-placeholder {
            background-color: #ff9800;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .dropdown-user-details {
            flex: 1;
        }

        .dropdown-user-name {
            font-weight: 600;
            color: #333;
            font-size: 15px;
            margin-bottom: 4px;
        }

        .dropdown-user-email {
            color: #666;
            font-size: 13px;
        }

        .dropdown-divider {
            height: 1px;
            background-color: #e0e0e0;
            margin: 8px 0;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: #333;
            text-decoration: none;
            font-size: 14px;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }

        .dropdown-item:hover {
            background-color: #f5f5f5;
        }

        .dropdown-item i {
            color: #666;
            width: 18px;
            text-align: center;
        }

        /* Responsive adjustments for top bar */
        @media(max-width: 768px) {
            .top-bar {
                padding: 12px 15px;
                height: auto;
                min-height: 60px;
            }

            .top-bar-logo img {
                height: 40px;
            }

            .user-name {
                font-size: 13px;
                display: none;
            }

            .user-avatar,
            .user-avatar-placeholder {
                width: 35px;
                height: 35px;
            }

            .user-dropdown-menu {
                min-width: 250px;
                right: -10px;
            }
        }

        /* Adjust main content areas to account for top bar */
        .main-div {
            padding-top: 0;
        }

        .main-content {
            padding-top: 0;
        }
        
        /* Adjust routed view container for top bar */
        div[ng-if="$root.isRoutedView"] {
            padding-top: 70px;
            margin-left: 0;
            min-height: calc(100vh - 70px);
            overflow-y: auto;
        }

        h2 {
            color: #4F1BA3;
            margin-top: 20px;
            font-size: 24px;
            font-weight: 700;

        }

        .card-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 10px;
        }

        .program-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            width: calc(33.33% - 13.33px);
            padding: 16px;
            display: flex;
            flex-direction: column;
        }

        .program-card-center{
            align-items: center;
            justify-content: space-between;
        }

        .program-head{
            width: 100%;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
        }

        .program-icon {
            font-size: 20px;
            color: white;
            background-color: #4b0082;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            /* margin-bottom: 10px; */
        }

        .program-title {
            font-weight: 700;
            color: Black;
            font-size: 24px;
            /* margin-bottom: 5px; */
            margin-left: 16px;
        }

        .program-title2{
            text-align: center;
            margin: 12px 0;
        }

        .program-deadline {
            font-size: 16px;
            color: #d32f2f;
            margin-bottom: 8px;
        }

        .program-deadline2{
            margin-bottom: 12px;
            text-align: center;
        }

        .program-desc,  .program-proposal{
            font-size: 12px;
            font-weight: 600;

            color: Black;
            margin-bottom: 8px;
        }

        .program-desc{
            margin-bottom: 16px;
            text-indent: -12px;
            margin-left: 24px;
        }

        .fa-id-card{
            color: #155DFC;
            margin-right: 8px;
        }

        .fa-file-text{
            color: #9747FF;
            margin-right: 7px;
        }
        
        .fa-check-square{
            color: #00C950;
            margin-right: 7px;
            }

        .btn-container {
            margin-top: auto;
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            border: 1px solid #4b0082;
            background-color: white;
            color: #4b0082;
            transition: 0.3s;
            
        }

        .btn:hover {
            background-color: #4b0082;
            color: white;
        }

        .apply-btn{
            background-color: #4F1BA3;
            color: white;
            transition: .2s opacity;
            /* max-width: 106px; */
        }

        .know-btn, .apply-btn{
            width: 106px;
        }

        .apply-btn:hover{
            opacity: .9;
        }

        .btn[disabled],
        .btn.ng-disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
            background-color:gray;
        }


        .main-div {
            display: flex;
            min-height: calc(100vh - 70px);
            /* padding-top: 70px; */
        }

        /* Loader CSS */
        .loader {
            height: 60px;
            aspect-ratio: 2;
            border-bottom: 3px solid #0000;
            background:
                linear-gradient(90deg, white 50%, transparent 0) -25% 100%/50% 3px repeat-x border-box;
            position: relative;
            animation: l3-0 .75s linear infinite;
        }

        .loader:before {
            content: "";
            position: absolute;
            inset: auto 42.5% 0;
            aspect-ratio: 1;
            border-radius: 50%;
            background: #4b0082;
            animation: l3-1 .75s cubic-bezier(0, 900, 1, 900) infinite;
        }

        @keyframes l3-0 {
            to {
                background-position: -125% 100%
            }
        }

        @keyframes l3-1 {
            0%,2% {
                bottom: 0%
            }

            98%,
            to {
                bottom: .1%
            }
        }

        /* FAQ Section Styles */
        .faq-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            width: calc(33.33% - 13.33px);
            padding: 24px;
            display: flex;
            flex-direction: column;
            text-align: center;
        }

        .faq-icon {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 16px;
            font-size: 28px;
            color: white;
        }

        .faq-icon.blue {
            background-color: #155DFC;
        }

        .faq-icon.purple {
            background-color: #9747FF;
        }

        .faq-icon.orange {
            background-color: #FB8A2E;
        }

        .faq-icon.red {
            background-color: #d32f2f;
        }

        .faq-icon.blue-purple {
            background-color: #6B46C1;
        }

        .faq-icon.brown {
            background-color: #8B4513;
        }

        .faq-title {
            font-weight: 700;
            color: #000;
            font-size: 20px;
            margin-bottom: 12px;
        }

        .faq-desc {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 16px;
            flex: 1;
        }

        .faq-know-more {
            color: #4b0082;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: color 0.3s;
            cursor: pointer;
        }

        .faq-know-more:hover {
            color: #6e40aa;
        }

        /* FAQ Detail Page Styles */
        .faq-detail-container {
            max-width: 1200px;
            margin: 0 auto;
        } 

        .faq-back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #4b0082;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .faq-back-button:hover {
            color: #6e40aa;
        }

        .faq-detail-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            padding: 40px;
            margin-top: 10px;
        }

        .faq-detail-title {
            color: #4F1BA3;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 30px;
        }

        .faq-detail-content {
            font-size: 15px;
            line-height: 1.8;
            color: #333;
        }

        .faq-detail-content ol {
            padding-left: 20px;
        }

        .faq-detail-content li {
            margin-bottom: 15px;
        }

        .faq-detail-buttons {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .faq-detail-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: 2px solid #4b0082;
            border-radius: 8px;
            background-color: white;
            color: #4b0082;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .faq-detail-btn:hover {
            background-color: #4b0082;
            color: white;
        }

        .faq-detail-btn i {
            font-size: 16px;
        }

        .faq-email-link {
            color: #4b0082;
            text-decoration: none;
            font-weight: 600;
        }

        .faq-email-link:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media(max-width: 1024px) {
            .program-card,
            .faq-card {
                width: calc(50% - 10px);
            }
        }

        @media(max-width: 768px) {
            .program-card,
            .faq-card {
                width: 100%;
            }

            .sidebar-appPortal {
                width: 200px;
                margin-top: 60px;
                height: calc(100vh - 60px);
            }

            .main-content {
                margin-left: 200px;
                margin-top: 60px;
            }
        }


        .status-pill {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            text-align: center;
        }

        /* Status Colors */
        .status-new {
            background-color: #e3f2fd;
            color: #1565c0;
        }

        .status-Pending {
            background-color: #fff3e0;
            color: #ef6c00;
        }

        .status-inprogress {
            background-color: #ede7f6;
            color: #5e35b1;
        }

        .status-closed {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

       

    </style>

    </head>
    <body ng-app="cp_app" ng-controller="cp_dashboard_ctrl" style="background-color: #ffffff; !important;">

        <!-- <div class="top-nav">
            <div class="container-fluid">
                <div class="row mx-5">
                    <div class="col-7">
                        Email:
                        <a href="mailto:info@igstc.com" class="link">
                            info@igstc.com
                        </a>
                    </div>
                    <div class="col-5">
                        <ul class="social text-end">
                            <li>
                                <a href="https://www.facebook.com/IGSTC.IndoGerman/" target="_blank">
                                    <i class="fab fa-facebook"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/INDOGSTC" target="_blank">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://in.linkedin.com/company/igstc" target="_blank">
                                    <i class="fab fa-linkedin"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>        
            </div>
        </div> -->

        <!-- <nav class="navbar navbar-expand-lg">
            <div class="container-fluid mx-5">
                <a class="navbar-brand" href="#/Home">
                    <apex:image url="{!$Resource.Logo}" style="margin-top:-20px;" alt="IGSTC"/>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                    <ul class="navbar-nav mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="#/Home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#/Campaign">Campaign</a>
                        </li>
                        <li class="nav-item" ng-if="projectId != ''">
                            <a class="nav-link" href="#/MyProposal">MyProposal</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span>Login</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="btn btn-success btn-sm" href="#">
                                Sign Up
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav> -->
        <!-- <a class="nav-link" href="#/Home" ng-class="{activeColor:activeTab==0}" style="color: rgba(63,63,70,1)"></a> -->
        <!-- <nav class="navbar navbar-expand-lg navbar-light" ng-hide="programmeHeaderName=='CONNECT PLUS'">
            <div class="wrapper px-5">
                <a class="navbar-brand p-0" href="#/Home">
                    <apex:image url="{!$Resource.Logo}" alt="IGSTC" styleClass="brand-logo"/>
                </a>
                <div class=""> -->
                    <!-- <p class="nav-link text-center ps-5"><b>Application submission Deadline :</b></p> -->
                    <!-- <li class="nav-link text-center" ng-if="programmeHeaderName=='Workshop'"><b>Cut-off dates: {{cutOffSD}} and {{cutOffED}}</b></li>
                    <li class="nav-link text-center" ng-if="programmeHeaderName=='2+2 Call' || programmeHeaderName=='PECFAR' || programmeHeaderName=='INDUSTRIAL FELLOWSHIPS'"><b>Application submission Deadline : {{campaignEndDate}}</b></li>
                    <li class="nav-link text-center" ng-if="programmeHeaderName=='WISER'"><b>Application submission: 1 February to 31 March every year</b></li> -->
                    <!-- <marquee>
                        <p class="nav-link"><b>{{campaignEndDate}}</b></p>
                     </marquee> -->
                <!-- </div>
                <button class="navbar-toggler float-end m-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown"
                    aria-expanded="false" aria-label="Toggle navigation"> -->
                    <!-- <span class="navbar-toggler-icon"></span> -->
                    <!-- <i class="fa fa-bars" />
                </button>
                <div class="collapse navbar-collapse d-flex justify-content-center" id="navbarNavDarkDropdown">                 
                    <ul class="navbar-nav mt-2">
                            <li class="nav-item pe-5">
                                <a class="nav-link" href="#/Home" ng-class="{activeColor:activeTab==0}">Home/{{programmeHeaderName}}</a>
                            </li> -->
                            <!-- <li class="nav-item me-5">
                                <a class="nav-link" href="#/Campaign" ng-class="{activeColor:activeTab==1}">Campaign</a>
                            </li> -->
                           
                            <!-- <li class="nav-item me-5">
                                <a class="nav-link" href="#/CampaignTheme" ng-class="{activeColor:activeTab==2}" style="color: rgba(63,63,70,1)">Campaign Theme</a>
                            </li> -->
                             <!-- <li class="nav-item pe-5" ng-if="projectId != ''" >
                                <a class="nav-link" href="#/MyProposal" ng-class="{activeColor:activeTab==3}">My Proposal</a>
                            </li>
                    </ul> -->
                        <!-- <div class="nav-item">
                            <button type="button" class="nav-link btn btn-dark"  href="" ng-class="{activeColor:activeTab==2}" style="color: white;padding-right:1%;padding-left:1%" ng-click="redirect()">Login/Signup</button>
                        </div> -->
                        <!-- <div class="d-flex" ng-if="applicantName==''">
                            <a class="blue-btn" href="#/RegistrationForm" ng-click="redirect()">Login/Signup</a>
                        </div>
                        <div class="d-flex text-align-center" ng-if="applicantName!=''">
                        <div class="dropdown" ng-if="applicantName!=''">
                            <i class="far fa-user fa-2x" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            </i>
                            <ul class="dropdown-menu" style="width: 300px" aria-labelledby="dropdownMenuButton1">                                                            
                              <li><a class="dropdown-item pe-5"><i class="fa-solid fa-user me-3"></i>{{applicantName}}</a></li>
                              <li>
                                <hr class="dropdown-divider" />
                            </li>
                              <li><a class="dropdown-item pe-5"><i class="fa-solid fa-at me-3"></i>{{applicantEmail}}</a></li>
                              <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li>
                                <a class="dropdown-item pe-5" ng-click="LogoutApplicant()"><i class="fa-solid fa-right-from-bracket me-3"></i>Logout</a>
                            </li>
                            </ul>
                          </div>
                        </div> -->
                        <!-- <div class="d-flex" ng-if="applicantName!=''">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"
                                    style="color: white !important;">
                                    <div class="profile-header-img">
                                        <img ng-show="profilePicId == undefined" class=" rounded-circle mr-2 img-circle" src="https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png"
                                            width="40" height="40" alt="avatar" />
                                        <img ng-hide="profilePicId == undefined" class="rounded-circle mr-2 profile-pic" src="https://ondonte--dev--c.documentforce.com/sfc/servlet.shepherd/version/download/{{profilePicId}}"
                                            width="40" height="40" alt="avatar" />
                                    </div>
                                    <span class="rank-label-container">
                                        <span class="label label-default rank-label">{{userDetails.LastName}}</span>
                                    </span>
                                </a>
                                <ul class="dropdown-menu me-5 mobile-drops" aria-labelledby="navbarDropdown" style="margin-left: -100px">
                                    <li>
                                        <a class="dropdown-item" href="#/CP_EditProfile">Edit Profile</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#referralModal">Referrals</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" ng-click="redirectToSchdlPlnr()">My Calender</a>
                                    </li>
                                    <li>
                                        <hr class="dropdown-divider" />
                                    </li>
                                    <li>
                                        <a class="dropdown-item" ng-click="logoutContact()">Logout</a>
                                    </li>
                                </ul>
                            </li>
                        </div> -->
                       
                <!-- </div>
            </div>
        </nav> -->
<!-- <div>
    <ul class="nav nav-pills nav-fill gap-2 p-1 small bg-white border rounded-5 shadow-sm" id="pillNav2" role="tablist">
        <li class="nav-item" role="presentation">                
          <button class="nav-link active rounded-5" id="basic_tab" data-bs-toggle="tab" type="button" role="tab" aria-selected="true"><i class="fa fa-home i-padding"></i>Basic Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-5" id="consortia_tab" data-bs-toggle="tab" type="button" role="tab" aria-selected="false"><i class="fa-solid fa-people-group i-padding"></i>Consortia Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-5" id="finance_tab" data-bs-toggle="tab" type="button" role="tab" aria-selected="false"><i class="fa-solid fa-money-bill-trend-up i-padding"></i>Finance Contribution</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-5" id="project_tab" data-bs-toggle="tab" type="button" role="tab" aria-selected="false"><i class="fa-solid fa-arrows-to-dot i-padding"></i>Project Details</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-5" id="packge_tab" data-bs-toggle="tab" type="button" role="tab" aria-selected="false"><i class="fa-solid fa-box i-padding"></i>Work Package</button>
        </li>
    </ul>
</div> -->
            <!-- <div style="background-color: #fff;">  
                <ng-view>
                </ng-view>
            </div> -->
            <!-- <apex:includeScript value="{!$Resource.SlickJs}" />
    <apex:includeScript value="{!$Resource.CustomJs}" /> -->
    <!-- Top Bar - Full Width Header -->
    <div ng-if="!isLoading" class="top-bar">
        <div class="top-bar-left">
            <div class="top-bar-logo">
                <img src="{!URLFOR($Resource.Logo)}" alt="IGSTC Logo"/>
            </div>
        </div>
        <div class="top-bar-right">
            <!-- <i class="fa-solid fa-bell notification-icon"></i> -->
            <span class="user-name">{{contactName || 'Loading...'}}</span>
            <div class="user-profile-dropdown" ng-class="{'dropdown-open': showUserDropdown}">
                <div class="user-profile-trigger" ng-click="toggleUserDropdown($event)">
                    <div class="avatar-wrapper">
                        <img ng-if="userProfilePicId" class="user-avatar" src="{{profilePicUrl}}" alt="Profile Picture"/>
                        <div ng-if="!userProfilePicId" class="user-avatar-placeholder">
                            <i class="fa-solid fa-user"></i>
                        </div>
                        <div class="user-status-indicator"></div>
                    </div>
                    <i class="fa-solid fa-chevron-up dropdown-arrow" ng-class="{'rotated': showUserDropdown}"></i>
                </div>
                <div class="user-dropdown-menu" ng-show="showUserDropdown">
                    <div class="dropdown-user-info">
                        <div class="dropdown-avatar-wrapper">
                            <img ng-if="userProfilePicId" class="dropdown-avatar" src="{{profilePicUrl}}" alt="Profile Picture"/>
                            <div ng-if="!userProfilePicId" class="dropdown-avatar-placeholder">
                                <i class="fa-solid fa-user"></i>
                            </div>
                        </div>
                        <div class="dropdown-user-details">
                            <div class="dropdown-user-name">{{contactName || 'Loading...'}}</div>
                            <div class="dropdown-user-email">{{userEmail || applicantEmail || ''}}</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" ng-click="navigateToHome(); showUserDropdown = false;">
                        <i class="fa-solid fa-house"></i> Home
                    </a>
                    <a href="#" class="dropdown-item" ng-click="navigateToResetPassword(); showUserDropdown = false;">
                        <i class="fa-solid fa-key"></i> Reset Password
                    </a>
                    <a href="#" class="dropdown-item" ng-click="logout(); showUserDropdown = false;">
                        <i class="fa-solid fa-right-from-bracket"></i> Logout
                    </a>
                </div>
            </div>
        </div>
    </div>
    
        <div ng-else="isLoading" class="main-div" ng-if="!$root.isRoutedView">
        <div class="sidebar-appPortal">
            <div class="igstc-logo" style="display: none;">
                <img src="{!URLFOR($Resource.Logo)}" alt="IGSTC Logo"/>
            </div>
            <div class="nav-item" ng-class="{active: selectedMenu === 'Dashboard'}" ng-click="showSection('Dashboard')">
                <i class="fa-solid fa-home"></i> Dashboard
            </div>
            <div class="nav-item" ng-class="{active: selectedMenu === 'Programs'}" ng-click="showSection('Programs')">
                <i class="fa-solid fa-list"></i> Programmes
            </div>
            <div class="nav-item" ng-class="{active: selectedMenu === 'Help'}" ng-click="showSection('Help')">
                <i class="fa-solid fa-circle-question"></i> Get Help
            </div>
            <div class="nav-item" ng-class="{active: selectedMenu === 'FAQ'}" ng-click="showSection('FAQ')">
                <i class="fa-solid fa-question"></i> FAQâ€™s
            </div>
            <div class="bottom-nav">
                <div class="nav-item" ng-class="{active: selectedMenu === 'Profile'}" ng-click="showSection('Profile')">
                    <i class="fa-solid fa-user"></i> Profile
                </div>
                <div class="nav-item" ng-class="{active: selectedMenu === 'Logout'}" ng-click="logout()">
                    <i class="fa-solid fa-right-from-bracket"></i> Logout
                </div>
            </div>
        </div>
        <div class="main-content">
             <!-- Added By Karthik -->
                <div ng-if="yearList.length > 0" style="margin-bottom: 10px; margin-top: 10px;">
                    <label style="margin-right: 8px; font-weight: 700; color: #4F1BA3; font-size: 24px;">
                    Call Year:
                    </label>

                    <select ng-model="selectedYear"
                        ng-options="y.Id as y.Name for y in yearList"
                        ng-change="onYearChange(selectedYear)"
                        style="padding: 6px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;">
                        <option value="">Select Year</option>
                    </select>
                </div>
                
            <div ng-if="selectedMenu === 'Programs'">
                <h2 ng-if="appliedPrograms.length > 0">In Progress</h2>
                <div class="card-grid">
                    <div class="program-card" ng-repeat="p in appliedPrograms">
                        <div class="program-head">
                            <div class="program-icon">
                               <i class="{{p.icon}}"></i>
                           </div>
                            <div class="program-title">{{p.name}}</div> 
                        </div>

                        <div class="program-deadline">Application Deadline: {{p.deadline}}</div>  
                        <div class="program-proposal"><i class="fa fa-id-card" aria-hidden="true"></i><span class="program-proposal-text">Proposal No: </span>{{p.PropName}}</div>
                        <!--<div class="program-desc"><i class="fa fa-file-text" aria-hidden="true"></i><span class="program-desc-text"> Title: </span>{{p.desc}}</div>-->
                        <div class="program-proposal"
                                 ng-if="p.proposalStage !== 'Draft'"
                                 ><i class="fa fa-check-square" aria-hidden="true"></i>


                           <span class="program-proposal-text">Status: </span> Application Submitted
                            </div>
                        <div class="program-desc"><i class="fa fa-file-text" aria-hidden="true"></i><span class="program-desc-text"> Title of Project: </span>{{p.titleOfProject}}</div>
                        <div class="btn-container">
                            
                              <div class="btn"
                                 ng-if="p.proposalStage === 'Draft'"
                                 ng-click="redirectToForm(p)">
                                Edit
                            </div>
                        
                            <!-- VIEW : When NOT Draft -->
                            <div class="btn"
                                 ng-if="p.proposalStage !== 'Draft'"
                                 ng-click="redirectToForm(p, true)">
                                View
                            </div>

                            <div class="btn"
                                 ng-if="p.proposalStage !== 'Draft'"
                                 ng-click="downloadApplicationPdf(p.id)">
                                Download Application pdf
                            </div>
                            
                        </div>
                    </div>
                </div>
                <h2 ng-if="allPrograms.length > 0">Programs Offered by IGSTC</h2>
                <!-- Added By Karthik -->
                <!-- <div ng-if="yearList.length > 0" style="margin-bottom: 10px;">
                    <label style="margin-right: 8px;">Year:</label>
                    <select ng-model="selectedYear"
                            ng-options="y.Id as y.Name for y in yearList">
                        <option value="">Select</option>
                    </select>
                    <!- <select ng-model="selectedYear"
                            ng-options="y.Name as y.Name for y in yearList"
                            ng-change="onYearChange()">
                        <option value="">Select</option>
                    </select> ->
                </div> -->

                <div class="card-grid">
                    <div class="program-card program-card-center" ng-repeat="p in allPrograms">
                        <div class="program-icon"> 
                            <i class="{{p.icon}}"></i>
                        </div>
                        <div class="program-title program-title2">{{p.name}}</div>
                        <!-- <div class="program-title">{{p.yearlyCallId}}</div> -->
                        <!-- <div class="program-title">{{p.yearlyCall}}</div> -->
                        <div class="program-deadline program-deadline2">Application Deadline: <br/> {{p.deadline}}</div>
                        <!-- <div class="program-desc">{{p.desc}}</div> -->
                        <!-- <div class="btn-container">
                            <div class="btn" ng-click="redirectToForm(p)">Apply</div>
                            <div class="btn">Know More</div>
                        </div> -->
                        <div class="btn-container">
                            <div class="btn apply-btn"
                                ng-click="!p.isExpired && redirectToForm(p)"
                                ng-disabled="p.isExpired">
                                Apply
                            </div>
                            <div class="btn know-btn"><a href="https://www.igstc.org/home/projects_call_text" target="_blank">Know More</a></div>
                        </div>


                    </div>
                </div>
            </div>
            
            <!-- FAQ Section -->
            <div ng-if="selectedMenu === 'FAQ'">
                <!-- FAQ List View -->
                <div ng-if="!selectedFAQ">
                    <h2>FAQ's</h2>
                    <div class="card-grid">
                        <!-- 2+2 CALL -->
                        <div class="faq-card">
                            <div class="faq-icon blue">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="faq-title">2+2 CALL</div>
                            <div class="faq-desc">
                                A flagship funding scheme supporting joint R&amp;D projects with two partners each from India and Germany.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('2+2 CALL')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        
                        <!-- PECFAR -->
                        <div class="faq-card">
                            <div class="faq-icon purple">
                                <i class="fa-solid fa-handshake"></i>
                            </div>
                            <div class="faq-title">PECFAR</div>
                            <div class="faq-desc">
                                Facilitates exchange of young Indian and German researchers and clinicians in the medical field.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('PECFAR')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        
                        <!-- WISER -->
                        <div class="faq-card">
                            <div class="faq-icon orange">
                                <i class="fa-solid fa-graduation-cap"></i>
                            </div>
                            <div class="faq-title">WISER</div>
                            <div class="faq-desc">
                                Empowers Indian women scientists through international exposure and Indo-German research partnerships.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('WISER')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        
                        <!-- SING -->
                        <div class="faq-card">
                            <div class="faq-icon red">
                                <i class="fa-solid fa-network-wired"></i>
                            </div>
                            <div class="faq-title">SING</div>
                            <div class="faq-desc">
                                Supports the creation of Indo-German research network centres in strategic areas.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('SING')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        
                        <!-- WORKSHOPS -->
                        <div class="faq-card">
                            <div class="faq-icon blue-purple">
                                <i class="fa-solid fa-file-circle-check"></i>
                            </div>
                            <div class="faq-title">WORKSHOPS</div>
                            <div class="faq-desc">
                                Funds thematic workshops and exploratory meetings to initiate Indo-German collaboration.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('WORKSHOPS')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        
                        <!-- IF -->
                        <div class="faq-card">
                            <div class="faq-icon brown">
                                <i class="fa-solid fa-atom"></i>
                            </div>
                            <div class="faq-title">IF</div>
                            <div class="faq-desc">
                                This programme is aimed at encouraging PhD students/researchers in S&amp;T with an appreciable track record.
                            </div>
                            <a href="#" class="faq-know-more" ng-click="showFAQDetail('IF')">Know More <i class="fa-solid fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- FAQ Detail View -->
                <div ng-if="selectedFAQ" class="faq-detail-container">
                    <div class="faq-back-button" ng-click="backToFAQ()">
                        <i class="fa-solid fa-arrow-left"></i> Back
                    </div>
                    <h2 style="text-align: center; margin-bottom: 20px;">FAQ's</h2>
                    <div class="faq-detail-card">
                        <div class="faq-detail-title">{{selectedFAQ.name}}</div>
                        <div class="faq-detail-content">
                            <ol>
                                <!-- Call Text, Basic Guidelines, FAQs -->
                                <li ng-if="selectedFAQ.hasCallText && selectedFAQ.hasBasicGuidelines && selectedFAQ.hasFAQs">
                                    Kindly read the Call Text, Basic Guidelines and FAQs carefully before applying. The link for same is below:
                                    <div class="faq-detail-buttons">
                                        <a href="{{selectedFAQ.callTextUrl}}" target="_blank" class="faq-detail-btn" ng-if="selectedFAQ.callTextUrl">
                                            <i class="fa-solid fa-phone"></i> Call Text
                                        </a>
                                        <a href="{{selectedFAQ.basicGuidelinesUrl}}" target="_blank" class="faq-detail-btn" ng-if="selectedFAQ.basicGuidelinesUrl">
                                            <i class="fa-solid fa-book-open"></i> Basic Guidelines
                                        </a>
                                        <a href="{{selectedFAQ.faqUrl}}" target="_blank" class="faq-detail-btn" ng-if="selectedFAQ.faqUrl">
                                            <i class="fa-solid fa-file-lines"></i> FAQs
                                        </a>
                                    </div>
                                </li>
                                <li ng-if="selectedFAQ.hasCallText && !selectedFAQ.hasBasicGuidelines && !selectedFAQ.hasFAQs">
                                    Kindly read the Call Text carefully before applying. The link for same is below:
                                    <div class="faq-detail-buttons">
                                        <a href="{{selectedFAQ.callTextUrl}}" target="_blank" class="faq-detail-btn" ng-if="selectedFAQ.callTextUrl">
                                            <i class="fa-solid fa-phone"></i> Call Text
                                        </a>
                                    </div>
                                </li>
                                
                                <!-- Project Details Format -->
                                <li ng-if="selectedFAQ.hasProjectDetailsFormat">
                                    Download the First Stage "Project Details" upload format from here.
                                </li>
                                
                                <!-- Standing Instructions -->
                                <li ng-if="selectedFAQ.hasStandingInstructions">
                                    Download the Standing Instructions and User Manual for First Stage proposal Submission from here.
                                </li>
                                
                                <!-- Eligibility -->
                                <li>Please ensure your eligibility before filling the application.</li>
                                
                                <!-- Documents Required -->
                                <li ng-if="selectedFAQ.hasDocumentsRequired && selectedFAQ.documentsRequired.length > 0">
                                    Documents required for application submission:
                                    <ul style="margin-top: 10px; padding-left: 20px;">
                                        <li ng-repeat="doc in selectedFAQ.documentsRequired" style="margin-bottom: 8px;">{{doc}}</li>
                                    </ul>
                                </li>
                                
                                <!-- Email -->
                                <li>Queries, if any, should be addressed to <a href="mailto:{{selectedFAQ.email}}" class="faq-email-link">{{selectedFAQ.email}}</a></li>
                                
                                <!-- Deadline -->
                                <li>{{selectedFAQ.deadline}}</li>
                                
                                <!-- Disqualification Note -->
                                <li>You may note that any false information given in the application can lead to disqualification of your candidature at any stage of the process.</li>
                                
                                <!-- Refresh Note -->
                                <li ng-if="selectedFAQ.hasRefreshNote">Please refresh the page with Ctrl+Shift+R and clear cache in case you face a lag or recurring error in the portal.</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div ng-if="selectedMenu === 'Help'">
                <h2>Help</h2>
                <div class="card-grid">
                    
                </div>
            </div> -->
            <div ng-if="selectedMenu === 'Help'">
                <!-- Header Row -->
                <div class="help-header">
                    <h2 class="help-title">My Tickets</h2>

                    <button class="btn help-raise-btn"
                            ng-click="openRaiseTicketModal()">
                        <i class="fa-solid fa-plus"></i> Raise a Ticket
                    </button>
                </div>

                <!-- Loader -->
                <!-- <div ng-if="isTicketsLoading" class="loader"></div> -->

                <!-- No Tickets -->
                <div ng-if="!isTicketsLoading && tickets.length === 0"
                    style="background:#fff;padding:30px;border-radius:16px;
                            text-align:center;font-weight:600;">
                    No tickets raised
                </div>

                <!-- Tickets Table -->
                <div ng-if="!isTicketsLoading && tickets.length > 0"
                    style="background:#fff;border-radius:16px;padding:20px;">

                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Ticket Number</th>
                                <th>Application Number</th>
                                <th>Status</th>
                                <th>Email</th>  
                                <th>Comments</th>                  
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="t in tickets">
                                <td>{{t.caseNumber}}</td>
                                <td>{{t.applicationNumber}}</td>
                                <td>
                                    <!-- <span class="label label-info">{{t.status}}</span> -->
                                     <span class="status-pill"
                                            ng-class="{
                                                'status-new': t.status === 'New',
                                                'status-Pending': t.status === 'Pending',
                                                'status-inprogress': t.status === 'In Progress',
                                                'status-closed': t.status === 'Closed'
                                            }">
                                            {{t.status}}
                                        </span>

                                </td>
                                <td>{{t.email}}</td>
                                <td>
                                    <button class="btn btn-link view-btn"
                                            ng-click="openViewCommentsModal(t)">
                                        View
                                    </button>
                                </td>                    
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            
            <div ng-if="selectedMenu === 'Profile'">
                <h2>Profile</h2>
                
                <div class="card-grid">
                <!-- <apex:include pageName="contactprofile">
                    <apex:param name="id" value="{!contactId}"/>
                </apex:include> -->
                
                <iframe
                    src="/apex/contactprofile?id={!contactId}"
                    width="1300px"
                    height="1000px"
                    frameborder="0">
                </iframe>
                </div>
            </div>
        </div>
    </div>
    <div ng-else="isLoading" style="background-color: #fff; overflow-y: auto; scrollbar-width: none; width: 100%; min-height: calc(100vh - 70px); padding-top: 70px;" ng-if="$root.isRoutedView">  
        <ng-view>
        </ng-view>
    </div>
    <!-- <div ng-if="isLoading">
        <div class="modal fade show d-block" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered justify-content-center" role="document">
                <span class="loader"></span>
            </div>
        </div>
        <div class="modal-backdrop fade show"></div>
    </div> -->

      
       <!-- Raise Ticket Modal -->
        <div class="modal fade raise-ticket-modal"
            ng-class="{in: showRaiseTicketModal}"
            ng-style="showRaiseTicketModal && {'display':'block'}">

            <div class="modal-dialog modal-dialog-centered" style="width:600px;">
                <div class="modal-content">

                    <div class="modal-header">
                        <h4 class="modal-title">Raise a Ticket</h4>
                        <!-- <button type="button"
                                class="close"
                                ng-click="closeRaiseTicketModal()">&times;</button> -->
                    </div>

                    <div class="modal-body">

                        <!-- Proposal Number -->
                        <!-- <div class="form-group">
                            <label>Application / Proposal Number</label>
                            <input type="text"
                                class="form-control"
                                ng-model="ticket.proposalNumber"
                                placeholder="Enter Application Number (Optional)" />
                        </div> -->

                        <div class="form-group position-relative">
                            <label>Application / Proposal Number</label>

                            <input type="text"
                                class="form-control"
                                ng-model="ticket.proposalNumber"
                                placeholder="Start typing proposal number"
                                ng-focus="filterProposals()"
                                ng-change="filterProposals()"
                                autocomplete="off" />

                            <!-- Dropdown -->
                            <ul class="proposal-dropdown"
                                ng-if="showProposalDropdown && filteredProposals.length > 0">
                                <li ng-repeat="p in filteredProposals"
                                    ng-click="selectProposal(p)">
                                    {{p.proposalNumber}}
                                </li>
                            </ul>
                        </div>


                        <!-- Comments -->
                        <div class="form-group">
                            <label>Comments</label>
                            <textarea ckeditor="true"
                                    ng-model="ticket.comments"
                                    class="form-control ticket-comments"
                                    rows="6">
                            </textarea>
                        </div>

                    </div>

                    <div class="modal-footer">
                        <button class="btn btn-cancel"
                                ng-click="closeRaiseTicketModal()">
                            Cancel
                        </button>
                        <button class="btn btn-primary"
                                ng-click="submitTicket()"
                                >
                            Submit
                        </button>
                    </div>

                </div>
            </div>
        </div>

        <div class="modal-backdrop fade in"
            ng-if="showRaiseTicketModal"></div>

    <!-- View Comments Modal -->
        <div class="modal fade view-comments-modal"
            ng-class="{in: showViewCommentsModal}"
            ng-style="showViewCommentsModal && {'display':'block'}">

            <div class="modal-dialog modal-dialog-centered" style="width:600px;">
                <div class="modal-content">

                    <div class="modal-header">
                        <h4 class="modal-title">Ticket Comments</h4>
                        <button type="button"
                                class="close"
                                ng-click="closeViewCommentsModal()">&times;</button>
                    </div>

                    <div class="modal-body">
                        <div class="readonly-comments"
                            ng-bind-html="selectedTicketComments">
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button class="btn btn-cancel"
                                ng-click="closeViewCommentsModal()">
                            Close
                        </button>
                    </div>

                </div>
            </div>
        </div>

        <div class="modal-backdrop fade in"
            ng-if="showViewCommentsModal"></div>



    <!-- Toast Notification -->
        <div class="toast-container" ng-if="toast.show">
            <div class="toast-message"
                ng-class="{
                    'toast-success': toast.type === 'success',
                    'toast-error': toast.type === 'error'
                }">
                <i class="fa-solid"
                ng-class="{
                    'fa-circle-check': toast.type === 'success',
                    'fa-circle-xmark': toast.type === 'error'
                }">
                </i>
                <span>{{toast.message}}</span>
            </div>
        </div>



    
    </body>
    
   
</apex:page>